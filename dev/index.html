<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Sea-water properties · PhysOcean</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>PhysOcean</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Sea-water properties</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Heat-fluxes"><span>Heat fluxes</span></a></li><li class="toplevel"><a class="tocitem" href="#Filtering"><span>Filtering</span></a></li><li class="toplevel"><a class="tocitem" href="#Earth"><span>Earth</span></a></li><li class="toplevel"><a class="tocitem" href="#GFD"><span>GFD</span></a></li><li class="toplevel"><a class="tocitem" href="#Tides"><span>Tides</span></a></li><li class="toplevel"><a class="tocitem" href="#Data-download"><span>Data download</span></a></li><li><a class="tocitem" href="#CMEMS"><span>CMEMS</span></a></li><li><a class="tocitem" href="#World-Ocean-Database-(US-NODC)"><span>World Ocean Database (US NODC)</span></a></li><li><a class="tocitem" href="#ARGO"><span>ARGO</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Sea-water properties</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Sea-water properties</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/gher-ulg/PhysOcean.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><p>PhysOcean</p><h1 id="Sea-water-properties"><a class="docs-heading-anchor" href="#Sea-water-properties">Sea-water properties</a><a id="Sea-water-properties-1"></a><a class="docs-heading-anchor-permalink" href="#Sea-water-properties" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.density-Tuple{Any, Any, Any}" href="#PhysOcean.density-Tuple{Any, Any, Any}"><code>PhysOcean.density</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">density(S,T,p)</code></pre><p>Compute the density of sea-water (kg/m³) at the salinity <code>S</code> (psu, PSS-78), temperature <code>T</code> (degree Celsius, ITS-90) and pressure <code>p</code> (decibar) using the UNESCO 1983 polynomial.</p><p>Fofonoff, N.P.; Millard, R.C. (1983). Algorithms for computation of fundamental properties of seawater. UNESCO Technical Papers in Marine Science, No. 44. UNESCO: Paris. 53 pp. http://web.archive.org/web/20170103000527/http://unesdoc.unesco.org/images/0005/000598/059832eb.pdf</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/EOS80.jl#L58-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.secant_bulk_modulus-Tuple{Any, Any, Any}" href="#PhysOcean.secant_bulk_modulus-Tuple{Any, Any, Any}"><code>PhysOcean.secant_bulk_modulus</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">secant_bulk_modulus(S,T,p)</code></pre><p>Compute the secant bulk modulus of sea-water (bars) at the salinity <code>S</code> (psu, PSS-78), temperature <code>T</code> (degree Celsius, ITS-90) and pressure <code>p</code> (decibar) using the UNESCO polynomial 1983.</p><p>Fofonoff, N.P.; Millard, R.C. (1983). Algorithms for computation of fundamental properties of seawater. UNESCO Technical Papers in Marine Science, No. 44. UNESCO: Paris. 53 pp. http://web.archive.org/web/20170103000527/http://unesdoc.unesco.org/images/0005/000598/059832eb.pdf</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/EOS80.jl#L80-L87">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.freezing_temperature-Tuple{Any}" href="#PhysOcean.freezing_temperature-Tuple{Any}"><code>PhysOcean.freezing_temperature</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">freezing_temperature(S)</code></pre><p>Compute the freezing temperature (in degree Celsius) of sea-water based on the salinity <code>S</code> (psu).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/EOS80.jl#L147-L151">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.potential_temperature" href="#PhysOcean.potential_temperature"><code>PhysOcean.potential_temperature</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">potential_temperature(S,T,P,PR)</code></pre><p>Potential temperature (degree Celsius, ITS-90) as per UNESCO 1983 report of a water mass with the salinity <code>S</code> (psu, PSS-78) and temperature <code>T</code> (degree Celsius, ITS-90) at the pressure <code>P</code> (db) relative to the reference pressure <code>PR</code> (db).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/EOS80.jl#L183-L189">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.potential_density" href="#PhysOcean.potential_density"><code>PhysOcean.potential_density</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">potential_density(S,T,P,PR)</code></pre><p>Potential density (kg/m^3) of a water mass with the salinity <code>S</code> (psu, PSS-78) and temperature <code>T</code> (degree Celsius, ITS-90) at the pressure <code>P</code> (db) relative to the reference pressure <code>PR</code> (db).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/EOS80.jl#L215-L220">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.N²" href="#PhysOcean.N²"><code>PhysOcean.N²</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">PhysOcean.N²(S,T,P,latitude)</code></pre><p>Brunt-Väisälä or buoyancy frequency squared (1/s²) at mid-depth for a profile with the salinity <code>S</code> (psu, PSS-78), temperature <code>T</code> (degree Celsius, ITS-90) and pressure <code>P</code> (decibar). The latitude <code>lat</code> (degrees) is used to compute the acceleration due to gravity.</p><p class="math-container">\[N^2 = - \frac{g}{ρ}  \frac{∂ρ}{∂z}\]</p><p>where z is negative in water.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/EOS80.jl#L289-L302">source</a></section></article><h1 id="Heat-fluxes"><a class="docs-heading-anchor" href="#Heat-fluxes">Heat fluxes</a><a id="Heat-fluxes-1"></a><a class="docs-heading-anchor-permalink" href="#Heat-fluxes" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.latentflux-NTuple{5, Any}" href="#PhysOcean.latentflux-NTuple{5, Any}"><code>PhysOcean.latentflux</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">latentflux(Ts,Ta,r,w,pa)</code></pre><p>Compute the latent heat flux (W/m²) using the sea surface temperature <code>Ts</code> (degree Celsius), the air temperature <code>Ta</code> (degree Celsius), the relative humidity <code>r</code> (0 ≤ r ≤ 1, pressure ratio, not percentage), the wind speed <code>w</code> (m/s) and the air pressure (hPa).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/PhysOcean.jl#L61-L70">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.longwaveflux-NTuple{4, Any}" href="#PhysOcean.longwaveflux-NTuple{4, Any}"><code>PhysOcean.longwaveflux</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">longwaveflux(Ts,Ta,e,tcc)</code></pre><p>Compute the long wave heat flux (W/m²) using the sea surface temperature <code>Ts</code> (degree Celsius), the air temperature <code>Ta</code> (degree Celsius), the wate vapour pressure <code>e</code> (hPa) and the total cloud coverage <code>ttc</code> (0 ≤ tcc ≤ 1).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/PhysOcean.jl#L91-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.sensibleflux-Tuple{Any, Any, Any}" href="#PhysOcean.sensibleflux-Tuple{Any, Any, Any}"><code>PhysOcean.sensibleflux</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sensibleflux(Ts,Ta,w)</code></pre><p>Compute the sensible heat flux (W/m²) using the wind speed <code>w</code> (m/s), the sea surface temperature <code>Ts</code> (degree Celsius), the air temperature <code>Ta</code> (degree Celsius).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/PhysOcean.jl#L113-L120">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.solarflux-Tuple{Any, Any}" href="#PhysOcean.solarflux-Tuple{Any, Any}"><code>PhysOcean.solarflux</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">solarflux(Q,al)</code></pre><p>Compute the solar heat flux (W/m²)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/PhysOcean.jl#L131-L135">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.vaporpressure-Tuple{Any}" href="#PhysOcean.vaporpressure-Tuple{Any}"><code>PhysOcean.vaporpressure</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">vaporpressure(T)</code></pre><p>Compute vapour pressure of water at the temperature <code>T</code> (degree Celsius) in hPa using Tetens equations. The temperature must be postive.</p><p>Monteith, J.L., and Unsworth, M.H. 2008. Principles of Environmental Physics. Third Ed. AP, Amsterdam. http://store.elsevier.com/Principles-of-Environmental-Physics/John-Monteith/isbn-9780080924793</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/PhysOcean.jl#L141-L148">source</a></section></article><h1 id="Filtering"><a class="docs-heading-anchor" href="#Filtering">Filtering</a><a id="Filtering-1"></a><a class="docs-heading-anchor-permalink" href="#Filtering" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.gausswin" href="#PhysOcean.gausswin"><code>PhysOcean.gausswin</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">gausswin(N, α = 2.5)</code></pre><p>Return a Gaussian window with <code>N</code> points with a standard deviation of (N-1)/(2 α).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/PhysOcean.jl#L156-L161">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.gaussfilter-Tuple{Any, Any}" href="#PhysOcean.gaussfilter-Tuple{Any, Any}"><code>PhysOcean.gaussfilter</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gaussfilter(x,N)</code></pre><p>Filter the vector <code>x</code> with a <code>N</code>-point Gaussian window.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/PhysOcean.jl#L167-L171">source</a></section></article><h1 id="Earth"><a class="docs-heading-anchor" href="#Earth">Earth</a><a id="Earth-1"></a><a class="docs-heading-anchor-permalink" href="#Earth" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.coriolisfrequency-Tuple{Any}" href="#PhysOcean.coriolisfrequency-Tuple{Any}"><code>PhysOcean.coriolisfrequency</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">coriolisfrequency(latitude)</code></pre><p>Provides coriolisfrequency et given latidudes in DEGREES from -90 Southpole to +90 Northpole</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/PhysOcean.jl#L191-L195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.earthgravity-Tuple{Any}" href="#PhysOcean.earthgravity-Tuple{Any}"><code>PhysOcean.earthgravity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">earthgravity(latitude)</code></pre><p>Provides gravity in m/s2 at ocean surface at given latidudes in DEGREES from -90 Southpole to +90 Northpole</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/PhysOcean.jl#L200-L204">source</a></section></article><h1 id="GFD"><a class="docs-heading-anchor" href="#GFD">GFD</a><a id="GFD-1"></a><a class="docs-heading-anchor-permalink" href="#GFD" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.integraterhoprime-Tuple{Any, Any}" href="#PhysOcean.integraterhoprime-Tuple{Any, Any}"><code>PhysOcean.integraterhoprime</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rhoi = integraterhoprime(rhop,z,dim=ndims(rhop))</code></pre><p>Integrates density anomalies over depth. When used with gravity, assuming gravity is independant on z, it can be used to calculate dynamic pressure up to a constant. Function can be used with 1D, 2D, ...</p><p><strong>Input:</strong></p><ul><li><code>rhop</code>: density anomaly array</li><li><code>z</code>: vertical position array. Zero at surface and positive downward, same dimensions as rhop</li><li><code>dim</code>: along which dimension depth is found and integral is performed. If not provided, last dimension is taken</li></ul><p><strong>Output:</strong></p><ul><li><code>rhoi</code> : Integrated value to the same levels as on which rhop where given. So basically total density anomaly ABOVE the current depth</li></ul><p><strong>Note:</strong></p><p>Compute vertical integral of density anomalies</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/integraterhoprime.jl#L1-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.stericheight" href="#PhysOcean.stericheight"><code>PhysOcean.stericheight</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ssh=stericheight(rhoi,z,zlevel,dim::Integer=ndims(rhoi))</code></pre><p><strong>Input:</strong></p><ul><li><code>rhoi</code>: integrated density anomalies (from a call to integraterhoprime)</li><li><code>z</code>: array of vertical positions</li><li><code>zlevel</code>: integer for the zlevel on which no motion is assumed</li><li><code>dim</code>: along which dimension depth is found . If not provided last dimension is used</li></ul><p><strong>Output:</strong></p><ul><li><code>ssh</code>: steric height. space dimensions as for rhoi in which direction dim is taken out</li></ul><p>Compute steric height with respect to given depth level presently provided as index , not depth</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/stericheight.jl#L1-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.geostrophy-Tuple{BitArray, Any, Any, Any}" href="#PhysOcean.geostrophy-Tuple{BitArray, Any, Any, Any}"><code>PhysOcean.geostrophy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">velocity,ssh,fluxes=geostrophy(mask::BitArray,rhop,pmnin,xiin;dim::Integer=ndims(rhop),ssh=(),znomotion=0,fillin=true)</code></pre><p><strong>Input:</strong></p><ul><li><code>mask</code> : Boolean array with true in water and false on land.</li><li><code>rhop</code> : density anomaly (rho-1025) array on the same grid as the mask.</li><li><code>pmnin</code>: tuple of metrics as in divand, but to get velocities in m/s the metrics need to be in per meters too.</li><li><code>xiin</code>: tuple position of the grid points.</li><li><code>dim</code> : optional paramter telling which index in the arrays corresponds to the vertical direction. By default the last dimension is used.</li><li><code>ssh</code> : array as mask for which the vertical direction is taken out. Corresponds to sea surface height in meters. Default is no used but diagnosed</li><li><code>znomotion</code> : index in the vertical direction where a level of no motion is assumed</li><li><code>fillin</code> : Boolean telling if a filling of land points using water points at the same level is to be used. Default is yes.</li></ul><p><strong>Output:</strong></p><ul><li><code>velocity</code> tuple of velocity components NORMAL and to the left of each coordinate line</li><li><code>eta</code> : sea surface height deduced. If a ssh was provided in input it returs ssh but filled in on land.</li><li><code>fluxes</code>: integrated velocities across sections in each horizontal direction. Same conventions as for velocities</li></ul><p><strong>Note:</strong></p><p>Calculates geostrophic velocities. Works with one or two horizontal dimensions and additional (time) dimensions. Dimensions are supposed to be ordered horizontal, vertical, other dimensions You must either provide the index for the level of no motion or ssh eta. NOTE THAT THE LEVEL IS AN INDEX NUMBER FOR THE MOMENT Dimensions of ssh must be the same as rhop in which vertical dimension has been taken out If you force fillin=false, then you must have created the density array without missing values outside of this call, as well as ssh if you provide it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/geostrophy.jl#L1-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.streamfunctionvolumeflux-Tuple{BitArray, Any, Any, Any}" href="#PhysOcean.streamfunctionvolumeflux-Tuple{BitArray, Any, Any, Any}"><code>PhysOcean.streamfunctionvolumeflux</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">psifluxes=streamfunctionvolumeflux(mask::BitArray,velocities,pmnin,xiin;dim::Integer=ndims(mask))</code></pre><p><strong>Input:</strong></p><ul><li><code>mask</code> : Boolean array with true in water and false on land.</li><li><code>velocities</code> : tuple of arrays on the same grid as the mask. Each tuple element is a velocity field normal to the corresponding direction in space</li><li><code>pmnin</code>: tuple of metrics as in divand, but to get velocities in m/s the metrics need to be in per meters too.</li><li><code>xiin</code>: tuple position of the grid points.</li><li><code>dim</code> : optional paramter telling which index in the arrays corresponds to the vertical direction. By default the last dimension is used.</li></ul><p><strong>Output:</strong></p><ul><li><code>psifluxes</code> tuple of volume fluxes at each depth and direction NORMAL and to the left of each coordinate line</li></ul><p>Calculates volume flux streamfunction calculated from the surface. The value of this field provides the total flow (in Sverdrup) across the section above the depth of the zlevel looked at.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/streamfunctionvolumeflux.jl#L1-L18">source</a></section></article><h1 id="Tides"><a class="docs-heading-anchor" href="#Tides">Tides</a><a id="Tides-1"></a><a class="docs-heading-anchor-permalink" href="#Tides" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.ap2ep" href="#PhysOcean.ap2ep"><code>PhysOcean.ap2ep</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">semimajor, eccentricity, inclination, phase = ap2ep(u::Complex,v::Complex)
semimajor, eccentricity, inclination, phase = ap2ep(amplitude_u,phase_u,amplitude_v,phase_v)</code></pre><p>Return the tidal elipise parameter semi-major axis (<code>semimajor</code>), <code>eccentricity</code>, inclination (degrees, angle between east and the maximum current) and phase (degrees) from the amplitude and phase of the meridional and zonal velocity. The velocities are related to the amplitude and phase by:</p><p>u(t) = aᵤ cos(ω t - ϕᵤ) v(t) = aᵥ cos(ω t - ϕᵥ)</p><p>where ω is the tidal angular frequency and t the time.</p><p>The code is based on the technical report <a href="https://www.researchgate.net/publication/312234150_Ellipse_Parameters_Conversion_and_Velocity_Profile_For_Tidal_Currents">Ellipse Parameters Conversion and Velocity Profile For Tidal Currents</a> from Zhigang Xu.</p><pre><code class="nohighlight hljs">semiminor = semimajor * eccentricity</code></pre><p><strong>Example</strong></p><pre><code class="language-julia hljs">using PyPlot, PhysOcean
amplitude_u = 1.3
amplitude_v = 1.12
phase_u = 190
phase_v = 350

semimajor,  eccentricity, inclination, phase = ap2ep(amplitude_u,phase_u,amplitude_v,phase_v)
semiminor = semimajor * eccentricity

phase_ = 0:1:360
u = amplitude_u * cosd.(phase_ .- phase_u)
v = amplitude_v * cosd.(phase_ .- phase_v)

plot(u,v,&quot;-&quot;,label=&quot;tidal ellipse&quot;)
plot([0,semimajor * cosd(inclination)],[0,semimajor * sind(inclination)],&quot;-&quot;,label = &quot;semi-major axis&quot;)
plot([0,semiminor * cosd(inclination+90)],[0,semiminor * sind(inclination+90)],&quot;-&quot;,label = &quot;semi-minor axis&quot;)
legend()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/tides.jl#L1-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.ep2ap" href="#PhysOcean.ep2ap"><code>PhysOcean.ep2ap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">amplitude_u,phase_u,amplitude_v,phase_v = ep2ap(semimajor, eccentricity, inclination, phase)</code></pre><p>Inverse of <code>ap2eps</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/tides.jl#L69-L73">source</a></section></article><h1 id="Data-download"><a class="docs-heading-anchor" href="#Data-download">Data download</a><a id="Data-download-1"></a><a class="docs-heading-anchor-permalink" href="#Data-download" title="Permalink"></a></h1><h2 id="CMEMS"><a class="docs-heading-anchor" href="#CMEMS">CMEMS</a><a id="CMEMS-1"></a><a class="docs-heading-anchor-permalink" href="#CMEMS" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.CMEMS.download" href="#PhysOcean.CMEMS.download"><code>PhysOcean.CMEMS.download</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CMEMS.download(lonr,latr,timerange,param,username,password,basedir[; indexURLs = ...])</code></pre><p>Download in situ data within the longitude range <code>lonr</code> (an array or tuple with two elements: the minimum longitude and the maximum longitude), the latitude range <code>latr</code> (likewise), time range <code>timerange</code> (an array or tuple with two <code>DateTime</code> structures: the starting date and the end date) from the CMEMS (Copernicus Marine environment monitoring service) in situ service <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>. <code>param</code> is one of the parameter codes as defined in <sup class="footnote-reference"><a id="citeref-2" href="#footnote-2">[2]</a></sup> or <sup class="footnote-reference"><a id="citeref-3" href="#footnote-3">[3]</a></sup>. <code>username</code> and <code>password</code> are the credentials to access data <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup> and <code>basedir</code> is the directory under which the data is saved. <code>indexURLs</code> is a list of the URL to the <code>index_history.txt</code> file. Per default, it includes the URLs of the Baltic, Arctic, North West Shelf, Iberian, Mediteranean and Black Sea Thematic Assembly Center.</p><p>As these URLs might change, the latest version of the URLs to the indexes can be obtained at <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; username = &quot;...&quot;
julia&gt; password = &quot;...&quot;
julia&gt; lonr = [7.6, 12.2]
julia&gt; latr = [42, 44.5]
julia&gt; timerange = [DateTime(2016,5,1),DateTime(2016,8,1)]
julia&gt; param = &quot;TEMP&quot;
julia&gt; basedir = &quot;/tmp&quot;
julia&gt; files = CMEMS.download(lonr,latr,timerange,param,username,password,basedir)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/CMEMS.jl#L125-L160">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.CMEMS.load" href="#PhysOcean.CMEMS.load"><code>PhysOcean.CMEMS.load</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">data,lon,lat,z,time,ids = load(T,fname::TS,param; qualityflags = [good_data, probably_good_data]) where TS &lt;: AbstractString</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/CMEMS.jl#L288-L292">source</a></section><section><div><pre><code class="nohighlight hljs">obsdata,obslon,obslat,obsz,obstime,obsids = CMEMS.load(T,fnames,param;
   qualityflags = ...,; prefixid = &quot;&quot;)</code></pre><p>Load all data in the vector of file names <code>fnames</code> corresponding to the parameter <code>param</code> as the data type <code>T</code>. Only the data with the quality flags <code>CMEMS.good_data</code> and <code>CMEMS.probably_good_data</code> are loaded per default. The output parameters correspondata to the data, longitude, latitude, depth, time (as <code>DateTime</code>) and an identifier (as <code>String</code>).</p><p>If <code>prefixid</code> is specified, then the observations identifier are prefixed with <code>prefixid</code>.</p><p>See also <code>CMEMS.download</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/CMEMS.jl#L357-L370">source</a></section></article><h2 id="World-Ocean-Database-(US-NODC)"><a class="docs-heading-anchor" href="#World-Ocean-Database-(US-NODC)">World Ocean Database (US NODC)</a><a id="World-Ocean-Database-(US-NODC)-1"></a><a class="docs-heading-anchor-permalink" href="#World-Ocean-Database-(US-NODC)" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.WorldOceanDatabase.download" href="#PhysOcean.WorldOceanDatabase.download"><code>PhysOcean.WorldOceanDatabase.download</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dirnames,indexnames = WorldOceanDatabase.download(lonrange,latrange,timerange,
  variable,email,basedir)</code></pre><p>Download data using the NODC web-service. The range parameters are vectors from with the frist element is the lower bound and the last element is the upper bound. The parameters of the functions will be transmitted to nodc.noaa.gov (http://www.noaa.gov/privacy.html). Note that no XBT corrections are applied. The table below show the avialable variable and their units.</p><p>Example:</p><p>dirnames,indexnames = WorldOceanDatabase.download([0,10],[30,40],     [DateTime(2000,1,1),DateTime(2000,2,1)],     &quot;Temperature&quot;,&quot;your@email.com,&quot;/tmp&quot;)</p><table><tr><th style="text-align: left">Variables</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: left">Temperature</td><td style="text-align: left">°C</td></tr><tr><td style="text-align: left">Salinity</td><td style="text-align: left">unitless</td></tr><tr><td style="text-align: left">Oxygen</td><td style="text-align: left">ml l⁻¹</td></tr><tr><td style="text-align: left">Phosphate</td><td style="text-align: left">µM</td></tr><tr><td style="text-align: left">Silicate</td><td style="text-align: left">µM</td></tr><tr><td style="text-align: left">Nitrate and Nitrate+Nitrite</td><td style="text-align: left">µM</td></tr><tr><td style="text-align: left">pH</td><td style="text-align: left">unitless</td></tr><tr><td style="text-align: left">Chlorophyll</td><td style="text-align: left">µg l⁻¹</td></tr><tr><td style="text-align: left">Plankton</td><td style="text-align: left">multiple</td></tr><tr><td style="text-align: left">Alkalinity</td><td style="text-align: left">meq l⁻¹</td></tr><tr><td style="text-align: left">Partial Pressure of Carbon Dioxide</td><td style="text-align: left">µatm</td></tr><tr><td style="text-align: left">Dissolved Inorganic Carbon</td><td style="text-align: left">mM</td></tr><tr><td style="text-align: left">Transmissivity</td><td style="text-align: left">m⁻¹</td></tr><tr><td style="text-align: left">Pressure</td><td style="text-align: left">dbar</td></tr><tr><td style="text-align: left">Air temperature</td><td style="text-align: left">°C</td></tr><tr><td style="text-align: left">CO2 warming</td><td style="text-align: left">°C</td></tr><tr><td style="text-align: left">CO2 atmosphere</td><td style="text-align: left">ppm</td></tr><tr><td style="text-align: left">Air pressure</td><td style="text-align: left">mbar</td></tr><tr><td style="text-align: left">Tritium</td><td style="text-align: left">TU</td></tr><tr><td style="text-align: left">Helium</td><td style="text-align: left">nM</td></tr><tr><td style="text-align: left">Delta Helium-3</td><td style="text-align: left">%</td></tr><tr><td style="text-align: left">Delta Carbon-14</td><td style="text-align: left">ᵒ/ᵒᵒ</td></tr><tr><td style="text-align: left">Delta Carbon-13</td><td style="text-align: left">ᵒ/ᵒᵒ</td></tr><tr><td style="text-align: left">Argon</td><td style="text-align: left">nM</td></tr><tr><td style="text-align: left">Neon</td><td style="text-align: left">nM</td></tr><tr><td style="text-align: left">Chlorofluorocarbon 11 (CFC 11)</td><td style="text-align: left">pM</td></tr><tr><td style="text-align: left">Chlorofluorocarbon 12 (CFC 12)</td><td style="text-align: left">pM</td></tr><tr><td style="text-align: left">Chlorofluorocarbon 113 (CFC 113)</td><td style="text-align: left">pM</td></tr><tr><td style="text-align: left">Delta Oxygen-18</td><td style="text-align: left">ᵒ/ᵒᵒ</td></tr></table></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/WorldOceanDatabase.jl#L93-L144">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.WorldOceanDatabase.load" href="#PhysOcean.WorldOceanDatabase.load"><code>PhysOcean.WorldOceanDatabase.load</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs"> load(T,dirname,indexname,varname)</code></pre><p>Load all profiles with the NetCDF variable <code>varname</code> in <code>dirname</code> indexed with the NetCDF file <code>indexname</code>. T is the type (e.g. Float64) for numeric return values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/WorldOceanDatabase.jl#L425-L431">source</a></section><section><div><pre><code class="nohighlight hljs">value,lon,lat,depth,obstime,id = load(T,dirnames,varname)</code></pre><p>Load a list  of directories <code>dirnames</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/WorldOceanDatabase.jl#L509-L513">source</a></section><section><div><pre><code class="nohighlight hljs">obsvalue,obslon,obslat,obsdepth,obstime,obsid = WorldOceanDatabase.load(T,basedir::AbstractString,varname; prefixid = &quot;&quot;)</code></pre><p>Load a list profiles under the directory <code>basedir</code> assuming <code>basedir</code> was populated by <code>WorldOceanDatabase.download</code>. If the <code>prefixid</code> is specified, then the observations identifier are prefixed with <code>prefixid</code>.</p><p>Example:</p><pre><code class="language-julia hljs">basedir = expanduser(&quot;~/Downloads/woddownload&quot;)
varname = &quot;Temperature&quot;
prefixid = &quot;1977-&quot;
obsvalue,obslon,obslat,obsdepth,obstime,obsid = WorldOceanDatabase.load(Float64,basedir,varname; prefixid = prefixid);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/WorldOceanDatabase.jl#L533-L549">source</a></section></article><h2 id="ARGO"><a class="docs-heading-anchor" href="#ARGO">ARGO</a><a id="ARGO-1"></a><a class="docs-heading-anchor-permalink" href="#ARGO" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PhysOcean.ARGO.load" href="#PhysOcean.ARGO.load"><code>PhysOcean.ARGO.load</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">obsdata,obslon,obslat,obsz,obstime,obsids = ARGO.load(T,fnames,param;
   qualityflags = ...,; prefixid = &quot;&quot;)</code></pre><p>Load all data in the vector of file names <code>fnames</code> corresponding to the parameter <code>param</code> as the data type <code>T</code>. Only the data with the quality flags <code>ARGO.good_data</code> and <code>ARGO.probably_good_data</code> are loaded per default. The output parameters correspondata to the data, longitude, latitude, depth, time (as <code>DateTime</code>) and an identifier (as <code>String</code>).</p><p>If <code>prefixid</code> is specified, then the observations identifier are prefixed with <code>prefixid</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using PhysOcean, Glob

# directory containing only ARGO/CORA netCDF files, e.g.
# &lt;basedir&gt;/CORA-5.2-mediterrane-1950/CO_DMQCGL01_19500103_PR_SH.nc
basedir = &quot;/some/dir&quot;
filenames = glob(&quot;*/*nc&quot;,basedir)
# load the data as double precision
T = Float64
# name of the variable in the NetCDF files
varname = &quot;TEMP&quot;
# EDMO code of Coriolis
prefixid = &quot;4630-&quot;
obsvalue,obslon,obslat,obsdepth,obstime,obsids = ARGO.load(T,filenames,varname;
      prefixid = prefixid)</code></pre><p>See also <code>CMEMS.load</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gher-ulg/PhysOcean.jl/blob/5e32f59709b62ce5d5346e754cee81d04595e776/src/ARGO.jl#L167-L198">source</a></section></article><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>http://marine.copernicus.eu/</li><li class="footnote" id="footnote-2"><a class="tag is-link" href="#citeref-2">2</a>http://www.coriolis.eu.org/Documentation/General-Informations-on-Data/Codes-Tables</li><li class="footnote" id="footnote-3"><a class="tag is-link" href="#citeref-3">3</a>http://doi.org/10.13155/40846</li></ul></section></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.14 on <span class="colophon-date" title="Tuesday 8 March 2022 16:09">Tuesday 8 March 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
